!function(t){var e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t};class i{constructor(t){this.newGuid=(()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),this.findIndexById=(t=>this.dataSource.findIndex(e=>e.id==t)),this.add=(t=>this.dataSource.push(n({},t,{id:this.newGuid()}))),this.remove=(t=>{return!!this.dataSource.find(e=>e.id==t)&&(this.dataSource.splice(this.findIndexById(t),1),!0)}),this.update=((t,e)=>{const s=this.dataSource.find(e=>e.id==t);if(!s)return!1;const i=n({},s,e);return this.dataSource.splice(this.findIndexById(t),1,i),!0}),this.get=(t=>{const e=t&&t.page?t.page:1,s=t&&t.itemsPerPage?t.itemsPerPage:0,n=this.dataSource.filter(e=>{let s=!0;for(let n in t)if(!(s=e[n]===t[n]))break;return s}),i=n.length;return{totalItems:i,totalPages:s>0?Math.ceil(i/s):1,data:s>0&&n.length>s?n.slice((e-1)*s):n}}),this.commit=(()=>{const t={data:this.dataSource};localStorage.setItem(this.tableName,JSON.stringify(t))});const e=localStorage.getItem(t),s=e?JSON.parse(e).data:[];this.dataSource=s,this.tableName=t}}class r{constructor(t,e=1500){this.get=((t,e,s)=>{const n=t.endsWith("/")?t.substring(0,t.length-1):t,i=this._gets.find(t=>t.url===n).action;if(!i)return Promise.reject(new Response(null,{status:404}));const r=i(e,s);return this._defaultAction(r)}),this.post=((t,e,s)=>{const n=t.endsWith("/")?t.substring(0,t.length-1):t,i=this._posts.find(t=>t.url===n).action;if(!i)return Promise.reject(new Response(null,{status:404}));const r=i(e,s);return this._defaultAction(r)}),this.put=((t,e,s,n)=>{const i=t.endsWith("/")?t.substring(0,t.length-1):t,r=this._puts.find(t=>t.url===i).action;if(!r)return Promise.reject(new Response(null,{status:404}));const o=r(e,s,n);return this._defaultAction(o)}),this.delete=((t,e,s)=>{const n=t.endsWith("/")?t.substring(0,t.length-1):t,i=this._deletes.find(t=>t.url===n).action;if(!i)return Promise.reject(new Response(null,{status:404}));const r=i(e,s);return this._defaultAction(r)}),this.addEndpoint=((...t)=>{const e=(t,e)=>{const s=e.url.endsWith("/")?e.url.substring(0,e.url.length-1):e.url,n=t.findIndex(t=>t.url===e.url);n>=0?t.splice(n,1,{action:e.action,url:s}):t.push({action:e.action,url:s})};t.forEach(t=>{switch(t.method.toUpperCase()){case"GET":e(this._gets,t);break;case"POST":e(this._posts,t);break;case"PUT":e(this._puts,t);break;case"DELETE":e(this._deletes,t)}})}),this._defaultGet=((t,e)=>{if(e)return{statusCode:e.statusCode,payload:e.body};return{statusCode:200,payload:this._crud.get(t)}}),this._defaultPost=((t,e)=>e?{statusCode:e.statusCode,payload:e.body}:(this._crud.add(t),this._crud.commit(),{statusCode:200})),this._defaultPut=((t,e,s)=>{if(s)return{statusCode:s.statusCode,payload:s.body};return this._crud.update(t,e)?(this._crud.commit(),{statusCode:200}):{statusCode:400}}),this._defaultDelete=((t,e)=>{if(e)return{statusCode:e.statusCode,payload:e.body};return this._crud.remove(t)?(this._crud.commit(),{statusCode:200,payload:null}):{statusCode:400,payload:null}}),this._defaultAction=(t=>new Promise(e=>setTimeout(()=>e(this._createResponse(t.payload,t.statusCode)),this._timeToResponse))),this._createResponse=((t,e)=>{if(!t)return new Response(null,{status:e});const s=new Blob([JSON.stringify(t)],{type:"application/json"});return new Response(s,{status:e})}),this.baseUrl=t,this._crud=new i(t),this._timeToResponse=e,this._gets=[{url:"",method:"get",action:this._defaultGet}],this._posts=[{url:"",method:"post",action:this._defaultPost}],this._puts=[{url:"",method:"put",action:this._defaultPut}],this._deletes=[{url:"",method:"delete",action:this._defaultDelete}]}}class o{static loadApis(...t){o._apis=o._apis.concat(t)}static get(t,e,s=null){const n=o._findApi(t);if(!n)return Promise.reject(new Response(null,{status:404}));const i=o._getResource(t);return n.get(i,e,s)}static post(t,e,s=null){const n=o._findApi(t);if(!n)return Promise.reject(new Response(null,{status:404}));const i=o._getResource(t);return n.post(i,e,s)}static put(t,e,s,n=null){const i=o._findApi(t);if(!i)return Promise.reject(new Response(null,{status:404}));const r=o._getResource(t);return i.put(r,e,s,n)}static delete(t,e,s=null){const n=o._findApi(t);if(!n)return Promise.reject(new Response(null,{status:404}));const i=o._getResource(t);return n.delete(i,e,s)}}o._apis=[],o._findApi=(t=>o._apis?o._apis.find(e=>t.match(`${e.baseUrl}/`)):null),o._getResource=((t,e)=>t.substring(e.length)),s.d(e,"ApiBase",function(){return r}),s.d(e,"CrudBase",function(){return i}),s.d(e,"FetchMock",function(){return o})}]);